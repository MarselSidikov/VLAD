# Git

Система контроля версий Git обеспечивает возможность нескольким программистам работать над одним проектом. Все изменения, внесенные каждым из разработчиковв, фиксируются и становятся доступными для других.

Помимо этого системы контроля версий позволяют поддерживать разные версии кода. Вы всегда можете вернуться к более старой версии. Это необходимо в тех случаях, когда новые изменения привели проект в неработоспособное состояние.

Одной из реализаций механизма Git является известный сервис [GitHub](https://github.com).

Имея аккаунт GitHub, у вас есть возможность создать удаленный (remote) репозиторий - хранилища вашего кода. В данном репозитории находится вся история проекта.

## Схема работы в Git

Рассмотрим общий подход к работе в рамках системы контроля версий Git

![000](https://raw.githubusercontent.com/MarselSidikov/VLAD/master/Material/images/git/000.png)

Таким образом, каждый разработчик (`Programmer 1` и `Programmer 2`) имеют локальные копии (`local repo`) удаленного репозитрия (`remote repo`).

Каждый из разработчиков фиксирует изменения (`commits`) в локальном репозитории. Далее, он имеет возможность залить зафиксированные изменения в удаленный репозиторий (команда `push`). Другой разработчик может получить эти изменения в свой локальный репозиторий (команда `pull`).

Подробнее о коммитах и операциях по заливанию и обновлению изменений будет рассказано ниже.

Для удобной работы с системой контроля версий Git необходимо скачать и установить утилиту Git Bash.

## Коммиты

Коммит является центральным понятием систем контроля версий. Каждый коммит - это набор изменений, который был произведен над одним или более файлами.

Коммит содержит иноформацию о том, какие строки кода были добавлены, а какие удалены в том или ином файле.

![000](https://raw.githubusercontent.com/MarselSidikov/VLAD/master/Material/images/git/009.png)

## Создание remote-репозитория Github

* Во вкладке репозиториев на сайте Github (после того. как вы успешно зарегистрировались и подтвердили Email) нажимаем кнопку `New`

![000](https://raw.githubusercontent.com/MarselSidikov/VLAD/master/Material/images/git/001.png)

* Вводим название репозитория

![000](https://raw.githubusercontent.com/MarselSidikov/VLAD/master/Material/images/git/002.png)

* Нажимаем `Create repository`

![000](https://raw.githubusercontent.com/MarselSidikov/VLAD/master/Material/images/git/003.png)

* Теперь мы имеем URL созданного remote-репозитория

![000](https://raw.githubusercontent.com/MarselSidikov/VLAD/master/Material/images/git/004.png)

## Создание локальной копии remote-репозитория

* На рабочем столе вашего компьютера нажмите правой кнопкой, выберите пункт меню `Git bash here`, откроется консоль GitBash, в которой мы будем работать.

![000](https://raw.githubusercontent.com/MarselSidikov/VLAD/master/Material/images/git/005.png)

* "Клонируем" на рабочий стол удаленный репозиторий с помощью команды `git clone` (после `clone` необходимо подставить полученный в предыдущем блоке URL-удаленного репозитория).

![000](https://raw.githubusercontent.com/MarselSidikov/VLAD/master/Material/images/git/006.png)

* Теперь на рабочем столе появилась папка, представляющая собой локальную копию remote-репозитория. Скрытая подпапка `.git` хранит всю информацию о репозитории.

* Перейдем в папку локального репозитория с помощью команды `cd JavaCourse`. Команда `cd` (change directory) позволяет выполнить переход в нужную папку.

![000](https://raw.githubusercontent.com/MarselSidikov/VLAD/master/Material/images/git/007.png)

*Обратите внимание на тег `master`*

* Выполним команду `git status` - Git сообщит нам, что коммитов еще было.

## Внесение изменений - коммиты

Как было сказано выше, коммит - фиксированное изменение одного или более файлов.

Каждый файл, в котором было произведено изменение, необходимо "добавить" в текущий коммит.

* В командной строке выполните команду:

```
touch .gitignore
```

Данная команда создаст специальный файл, запрещающий Git-у отслеживать изменения в некоторых файлах (например, в бинарных).

* Выполним команду `git status` - Git сообщит, что данный файл не отслеживается, следовательно его изменения не будут добавлены в коммит. При этом название файла выделяется красным цветом.

* Поочередно выполним команды `git add .gitignore` и `git status` - видим сообщение о том, что файл .gitignore будет добавлен в коммит.

* Сделаем первый коммит, выполнив команду `git commit -m 'add gitignore'`.

* С помощью команды `git log` можно убедиться, что коммит был выполнен.

## Отправка коммитов в удаленный репозиторий

* Внесем изменения в файл .gitignore, добавив в него следующее содержимое:

```
*.class

# Mobile Tools for Java (J2ME)
.mtj.tmp/

# Package Files #
*.jar
*.war
*.ear

# virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml
hs_err_pid*
.settings/
.project
.classpath
.springBeans
**/target/
/commit.txt
/*/logs/
/*/wrk/
effective-pom.xml
effective-settings.xml
/*/.gwt/
.cache
.idea/
*.iml
*.log
*.lck
*.jar
*/dependency-reduced-pom.xml
```

Такое содержимое `gitignore` позволит комфортно работать с java-проектами, поскольку git не станет отслеживать служебные и бинарные файлы, не предназначенные для хранения в системе контроля версий.

* После выполнения команды `git status` заметим, что файл `.gitignore` сопровождается словом `modified`, таким образом, git отследил изменение в файле.

* Команда `git diff .gitignore` покажет, какие конкретно изменения были внесены в файл.

* Снова добавим изменения в текущий коммит и зафиксируем его, последовательно выполнив команды `git add .gitignore` и `git commit -m 'add extentions in gitignore'`

* Далее, зальем изменения в remote-репозиторий, выполнив командку `git push`.

* Теперь, на странице репозитория на сайте Github вы можете увидеть добавленный файл gitignore.

![000](https://raw.githubusercontent.com/MarselSidikov/VLAD/master/Material/images/git/008.png).

### Начальный принцип работы с репозиторием 

* Клонирование репозитория - `git clone`

* Внесение изменений

* Добавление файлов в коммит - `git add .` (в случае, когда в коммит необходимо добавить все измененные файлы, после указания команды ставится точка)

* Создание коммита - `git commit -m <описание изменений>`

* Обновление локальной копии репозитория - `git pull` (если другой разработчик вносил изменения)

* Отправка в удаленный репозиторий - `git push`

### Задание

* Сконировать репозиторий в отдельную папку (таким образом, у вас на компьютере будет два варианта локального репозитория).

* Создать файл README.md

* Внести в него информацию о разрабатываемом проекте (см. Введение)

* Сделать коммит, отправить в remote-репозиторий

* В изначальной папке репозитория обновить его, выполнив команду `git pull`, убедиться, что файл README.md появился в папке локального репозитория.








